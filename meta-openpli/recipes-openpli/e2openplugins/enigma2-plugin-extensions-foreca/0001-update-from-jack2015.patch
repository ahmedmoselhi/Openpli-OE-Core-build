From ca04449246d6ee19ef24ab39a88a857f9ee60d2a Mon Sep 17 00:00:00 2001
From: kueken
Date: Sat, 27 Jun 2020 12:28:12 +0200
Subject: [PATCH] update from jack2015

diff --git a/plugin/City.cfg b/plugin/City.cfg
index 76d0eb0..e9a780f 100644
--- a/plugin/City.cfg
+++ b/plugin/City.cfg
@@ -12,9 +12,9 @@ Albania/Lezhe
 Albania/Peshkopi
 Albania/Shkoder
 Albania/Tirana
---------------------------------------------------------------------
+########
 Andorra/Andorra_la_Vella
---------------------------------------------------------------------
+########
 Austria/Amstetten
 Austria/Ansfelden
 Austria/Anif
@@ -125,14 +125,14 @@ Austria/Villach
 Austria/Voitsberg
 Austria/Volkermarkt
 Austria/Zell_am_See
---------------------------------------------------------------------
+########
 Belarus/Brest
 Belarus/Homyel'
 Belarus/Hrodna
 Belarus/Mahilyow
 Belarus/Minsk
 Belarus/Vitsyebsk
---------------------------------------------------------------------
+########
 Belgium/Aalst
 Belgium/Aarschot
 Belgium/Antwerpen
@@ -192,7 +192,7 @@ Belgium/Waregem
 Belgium/Wavre
 Belgium/Wevelgem
 Belgium/Zaventem
---------------------------------------------------------------------
+########
 Bosnia_and_Herzegovina/Banja_Luka
 Bosnia_and_Herzegovina/Bihac
 Bosnia_and_Herzegovina/Brcko
@@ -202,7 +202,7 @@ Bosnia_and_Herzegovina/Prijedor
 Bosnia_and_Herzegovina/Sarajevo
 Bosnia_and_Herzegovina/Tuzla
 Bosnia_and_Herzegovina/Zenica
---------------------------------------------------------------------
+########
 Bulgaria/Asenovgrad
 Bulgaria/Blagoevgrad
 Bulgaria/Burgas
@@ -238,7 +238,23 @@ Bulgaria/Veliko_Turnovo
 Bulgaria/Vidin
 Bulgaria/Vratsa
 Bulgaria/Yambol
---------------------------------------------------------------------
+########
+China/Hangzhou
+China/Beijing
+China/Shanghai
+China/Changsha
+China/Chengdu
+China/Chongqing
+China/Fuzhou
+China/Guangzhou
+China/Nanjing
+China/Qingdao
+China/Shenyang
+China/Zhengzhou
+China/Dalian
+China/Guilin
+China/Guiyang
+########
 Croatia/Baska
 Croatia/Bjelovar
 Croatia/Bol
@@ -279,9 +295,9 @@ Croatia/Vis
 Croatia/Vukovar
 Croatia/Zadar
 Croatia/Zagreb
---------------------------------------------------------------------
+########
 Cyprus/Nicosia
---------------------------------------------------------------------
+########
 Czech_Republic/Brno
 Czech_Republic/Ceske_Budejovice
 Czech_Republic/Hradec_Kralove
@@ -298,7 +314,7 @@ Czech_Republic/Strakonice
 Czech_Republic/Usti_nad_Labem
 Czech_Republic/Volyně
 Czech_Republic/Zlin
---------------------------------------------------------------------
+########
 Denmark/Abenra
 Denmark/Alborg
 Denmark/Arhus
@@ -321,7 +337,7 @@ Denmark/Sonderborg
 Denmark/Tastrup
 Denmark/Thisted
 Denmark/Thyboron
---------------------------------------------------------------------
+########
 Eire/Castlebar
 Eire/Cavan
 Eire/Clonmel
@@ -337,7 +353,7 @@ Eire/Sligo
 Eire/Tullamore
 Eire/Waterford
 Eire/Wexford
---------------------------------------------------------------------
+########
 Estonia/Haapsalu
 Estonia/Kohtla-Järve
 Estonia/Kunda
@@ -357,7 +373,7 @@ Estonia/Tartu
 Estonia/Valga
 Estonia/Viljandi
 Estonia/Võru
---------------------------------------------------------------------
+########
 Finland/Anjala
 Finland/Ekenas
 Finland/Enontekio
@@ -397,7 +413,7 @@ Finland/Utsjoki
 Finland/Vaasa
 Finland/Varkaus
 Finland/Vuokatti
---------------------------------------------------------------------
+########
 France/Albi
 France/Amiens
 France/Angouleme
@@ -467,7 +483,7 @@ France/Troyes
 France/Tulle
 France/Valence
 France/Versailles
---------------------------------------------------------------------
+########
 Germany/Aach
 Germany/Kreisfreie_Stadt_Aachen
 Germany/Aalen
@@ -11248,9 +11264,9 @@ Germany/Xanten
 Germany/Zabakuck
 Germany/Zabeltitz
 Germany/Zabenstedt
---------------------------------------------------------------------
+########
 Gibraltar/Gibraltar
---------------------------------------------------------------------
+########
 Greece/Agrinion
 Greece/Alexandreia
 Greece/Alexandroupolis
@@ -11310,7 +11326,7 @@ Greece/Veroia
 Greece/Volos
 Greece/Xanthi
 Greece/Zante
---------------------------------------------------------------------
+########
 Greenland/Ilulissat
 Greenland/Ittoqqortoormiit
 Greenland/Kap_Hope
@@ -11319,7 +11335,7 @@ Greenland/Qaanaaq
 Greenland/Qaqortoq
 Greenland/Sisimiut
 Greenland/Tasiilaq
---------------------------------------------------------------------
+########
 Hungary/Aba
 Hungary/Abádszalók
 Hungary/Abasár
@@ -12144,7 +12160,7 @@ Hungary/Zomba
 Hungary/Zsámbék
 Hungary/Zsámbok
 Hungary/Zsombó
---------------------------------------------------------------------
+########
 Iceland/Akureyri
 Iceland/Egilsstadir
 Iceland/Isafjordur
@@ -12152,7 +12168,7 @@ Iceland/Keflavik
 Iceland/Reykjavik
 Iceland/Selfoss
 Iceland/Saudarkrokur
---------------------------------------------------------------------
+########
 Italy/Abano_Terme
 Italy/Abbadia_Cerreto
 Italy/Abbadia_Lariana
@@ -20279,7 +20295,7 @@ Italy/Zumaglia
 Italy/Zumpano
 Italy/Zungoli
 Italy/Zungri
---------------------------------------------------------------------
+########
 Latvia/Abragciems
 Latvia/Ainazi
 Latvia/Aizkraukle
@@ -20390,11 +20406,11 @@ Latvia/Viesite
 Latvia/Vilksala
 Latvia/Vilani
 Latvia/Zilupe
--------------------------------------------------------------------
+########---
 Liechtenstein/Mauren
 Liechtenstein/Triesen
 Liechtenstein/Vaduz
---------------------------------------------------------------------
+########
 Lithuania/Akmene
 Lithuania/Alytus
 Lithuania/Anyksciai
@@ -20465,12 +20481,12 @@ Lithuania/Visaginas
 Lithuania/Zagare
 Lithuania/Zarasai
 Lithuania/Ziezmariai
---------------------------------------------------------------------
+########
 Luxembourg/Belvaux
 Luxembourg/Luxembourg
---------------------------------------------------------------------
+########
 Malta/Valletta
---------------------------------------------------------------------
+########
 Makedonija/Bitola
 Makedonija/Gostivar
 Makedonija/Kumanovo
@@ -20481,9 +20497,9 @@ Makedonija/Shtip
 Makedonija/Strumica
 Makedonija/Tetovo
 Makedonija/Veles
---------------------------------------------------------------------
+########
 Monaco/Monaco
---------------------------------------------------------------------
+########
 Netherlands/Alkmaar
 Netherlands/Almelo
 Netherlands/Almere
@@ -20531,7 +20547,7 @@ Netherlands/Zaanstad
 Netherlands/Zeist
 Netherlands/Zoetermeer
 Netherlands/Zwolle
---------------------------------------------------------------------
+########
 Norway/Alesund
 Norway/Bergen
 Norway/Bodo
@@ -20553,7 +20569,7 @@ Norway/Stavanger
 Norway/Tromso
 Norway/Trondheim
 Norway/Vardo
---------------------------------------------------------------------
+########
 Poland/Białystok
 Poland/Bydgoszcz
 Poland/Gdańsk
@@ -20570,7 +20586,7 @@ Poland/Rzeszow
 Poland/Szczecin
 Poland/Warszawa
 Poland/Wrocław
---------------------------------------------------------------------
+########
 Portugal/Abrantes
 Portugal/Alcacer_do_Sal
 Portugal/Aveiro
@@ -20605,7 +20621,7 @@ Portugal/Vendas_Novas
 Portugal/Viana_do_Castel
 Portugal/Vila_Real
 Portugal/Viseu
---------------------------------------------------------------------
+########
 Romania/Arad
 Romania/Bacau
 Romania/Baia_Mare
@@ -20633,7 +20649,7 @@ Romania/Suceava
 Romania/Targu-Mures
 Romania/Timisoara
 Romania/Tulcea
---------------------------------------------------------------------
+########
 Russia/Chelyabinsk
 Russia/Irkutsk
 Russia/Kaliningrad
@@ -20650,14 +20666,14 @@ Russia/Sochi
 Russia/Tol'yatti
 Russia/Vladivostok
 Russia/Yekatarinburg
---------------------------------------------------------------------
+########
 Serbia/Belgrade
 Serbia/Leskovica
 Serbia/Nis
 Serbia/Novi_Sad
 Serbia/Subotica
 Serbia/Vranic
---------------------------------------------------------------------
+########
 Slovakia/Banská Bystrica
 Slovakia/Banská Štiavnica
 Slovakia/Bardejov
@@ -20787,7 +20803,7 @@ Slovakia/Žarnovica
 Slovakia/Želiezovce
 Slovakia/Žiar nad Hronom
 Slovakia/Žilina
---------------------------------------------------------------------
+########
 Slovenia/Celje
 Slovenia/Koper
 Slovenia/Kranj
@@ -20799,7 +20815,7 @@ Slovenia/Novo_Mesto
 Slovenia/Ptuj
 Slovenia/Slovenj_Gradec
 Slovenia/Velenje
---------------------------------------------------------------------
+########
 Spain/A_Coruna
 Spain/Alicante
 Spain/Barcelona
@@ -20827,7 +20843,7 @@ Spain/Valladolid
 Spain/Vigo
 Spain/Vitoria-Gasteiz
 Spain/Zaragoza
---------------------------------------------------------------------
+########
 Sweden/Borlange
 Sweden/Falun
 Sweden/Gavle
@@ -20848,7 +20864,7 @@ Sweden/Umea
 Sweden/Uppsala
 Sweden/Vasteras
 Sweden/Visby
---------------------------------------------------------------------
+########
 Switzerland/Aarau
 Switzerland/Altdorf
 Switzerland/Andermatt
@@ -20912,7 +20928,7 @@ Switzerland/Zermatt
 Switzerland/Zernez
 Switzerland/Zug
 Switzerland/Zurich
---------------------------------------------------------------------
+########
 Turkey/Adana
 Turkey/Adiyaman
 Turkey/Afyonkarahisar
@@ -20994,7 +21010,7 @@ Turkey/Van
 Turkey/Yalova
 Turkey/Yozgat
 Turkey/Zonguldak
---------------------------------------------------------------------
+########
 Ukraine/Dnipropetrovs'k
 Ukraine/Donets'k
 Ukraine/Ivano-Frankivs'k
@@ -21003,7 +21019,7 @@ Ukraine/Kiev
 Ukraine/L'viv
 Ukraine/Odesa
 Ukraine/Yalta
---------------------------------------------------------------------
+########
 United_Kingdom/Aberdeen
 United_Kingdom/Belfast
 United_Kingdom/Birmingham
diff --git a/plugin/control b/plugin/control
index ed0bf98..e2c6b04 100644
--- a/plugin/control
+++ b/plugin/control
@@ -1,5 +1,5 @@
 Package: enigma2-plugin-extensions-foreca
-Version: 3.1.0
+Version: 3.2.3-r3
 Description: Weather forecast for the upcoming 10 days
 Section: extra
 Priority: optional
diff --git a/plugin/fav1.cfg b/plugin/fav1.cfg
new file mode 100644
index 0000000..2717a47
--- /dev/null
+++ b/plugin/fav1.cfg
@@ -0,0 +1 @@
+﻿United_Kingdom/London
diff --git a/plugin/fav2.cfg b/plugin/fav2.cfg
new file mode 100644
index 0000000..2a24ded
--- /dev/null
+++ b/plugin/fav2.cfg
@@ -0,0 +1 @@
+﻿Russia/Moskva
diff --git a/plugin/locale/zh_CN/LC_MESSAGES/Foreca.po b/plugin/locale/zh_CN/LC_MESSAGES/Foreca.po
new file mode 100644
index 0000000..6943f76
--- /dev/null
+++ b/plugin/locale/zh_CN/LC_MESSAGES/Foreca.po
@@ -0,0 +1,641 @@
+msgid ""
+msgstr ""
+"Project-Id-Version: Foreca 3.1.3\n"
+"Report-Msgid-Bugs-To: \n"
+"POT-Creation-Date: 2018-07-17 15:55+0200\n"
+"PO-Revision-Date: 2020-06-19 11:13+0800\n"
+"Last-Translator: neoatomic <neoatomic@users.noreply.github.com>\n"
+"Language-Team: n.a.\n"
+"Language: ru\n"
+"MIME-Version: 1.0\n"
+"Content-Type: text/plain; charset=UTF-8\n"
+"Content-Transfer-Encoding: 8bit\n"
+"X-Poedit-KeywordsList: _;gettext;gettext_noop\n"
+"X-Poedit-Basepath: .\n"
+"X-Poedit-SourceCharset: utf-8\n"
+"X-Generator: Poedit 2.2.3\n"
+"X-Poedit-SearchPath-0: .\n"
+
+#: ../ui.py:844
+msgid ""
+"\n"
+"<   >       =   Prognosis next/previous day\n"
+"0 - 9       =   Prognosis (x) days from now\n"
+"\n"
+"VOL+/-  =   Fast scroll 100 (City choice)\n"
+"Bouquet+/- =   Fast scroll 500 (City choice)\n"
+"\n"
+"Info        =   This information\n"
+"Menu     =   Satellite photos and maps\n"
+"\n"
+"Red        =   Temperature chart for the upcoming 5 days\n"
+"Green    =   Go to Favorite 1\n"
+"Yellow    =   Go to Favorite 2\n"
+"Blue        =   Go to Home\n"
+"\n"
+"Wind direction = Arrow to right: Wind from the West"
+msgstr ""
+
+#: ../ui.py:674
+msgid "0 - Today"
+msgstr ""
+
+#: ../ui.py:675
+msgid "1 - Today + 1 day"
+msgstr ""
+
+#: ../ui.py:184
+msgid "12 h"
+msgstr ""
+
+#: ../ui.py:676
+msgid "2 - Today + 2 days"
+msgstr ""
+
+#: ../ui.py:184
+msgid "24 h"
+msgstr ""
+
+#: ../ui.py:677
+msgid "3 - Today + 3 days"
+msgstr ""
+
+#: ../ui.py:678
+msgid "4 - Today + 4 days"
+msgstr ""
+
+#: ../ui.py:679
+msgid "5 - Today + 5 days"
+msgstr ""
+
+#: ../ui.py:680
+msgid "6 - Today + 6 days"
+msgstr ""
+
+#: ../ui.py:681
+msgid "7 - Today + 7 days"
+msgstr ""
+
+#: ../ui.py:682
+msgid "8 - Today + 8 days"
+msgstr ""
+
+#: ../ui.py:683
+msgid "9 - Today + 9 days"
+msgstr ""
+
+#: ../ui.py:1386
+msgid "Air pressure"
+msgstr ""
+
+#: ../ui.py:1482
+msgid "Australia"
+msgstr "澳大利亚"
+
+#: ../ui.py:1443
+msgid "Austria"
+msgstr "奥地利"
+
+#: ../ui.py:1941
+msgid "Backgroundcolor"
+msgstr "背景色"
+
+#: ../ui.py:1418
+msgid "Baden-Wuerttemberg"
+msgstr ""
+
+#: ../ui.py:1419
+msgid "Bavaria"
+msgstr "巴伐利亚"
+
+#: ../ui.py:1444
+msgid "Belgium"
+msgstr "比利时"
+
+#: ../ui.py:1420
+msgid "Berlin"
+msgstr "柏林"
+
+#: ../ui.py:1138
+msgid "Blue - Assign to Home"
+msgstr ""
+
+#: ../ui.py:673
+msgid "Blue - Home"
+msgstr ""
+
+#: ../ui.py:1375 ../ui.py:1633
+msgid "Blue - Settings"
+msgstr ""
+
+#: ../ui.py:1421
+msgid "Brandenburg"
+msgstr "勃兰登堡"
+
+#: ../ui.py:1422
+msgid "Bremen"
+msgstr "不来梅"
+
+#: ../ui.py:1906
+msgid "Cancel"
+msgstr "取消"
+
+#: ../ui.py:1139
+msgid "Channel+ - 500 back"
+msgstr ""
+
+#: ../ui.py:1140
+msgid "Channel- - 500 forward"
+msgstr ""
+
+#: ../ui.py:643
+msgid "City"
+msgstr "城市"
+
+#: ../ui.py:1934
+msgid "City names as labels in the Main screen"
+msgstr "城市名称作为主屏幕中的标签"
+
+#: ../ui.py:1385
+msgid "Cloudcover Video"
+msgstr "云层视频"
+
+#: ../ui.py:1358 ../ui.py:1483
+msgid "Continents"
+msgstr "大洲"
+
+#: ../ui.py:1445
+msgid "Czech Republic"
+msgstr "捷克共和国"
+
+#: ../ui.py:1944
+msgid "Debug"
+msgstr "调试"
+
+#: ../ui.py:1446
+msgid "Denmark"
+msgstr "丹麦"
+
+#: ../ui.py:1943
+msgid "Display in extensions menu"
+msgstr "在扩展菜单中显示"
+
+#: ../ui.py:1134 ../ui.py:1371 ../ui.py:1632
+msgid "Down - Next"
+msgstr ""
+
+#: ../ui.py:666
+msgid "Down - Next page"
+msgstr ""
+
+#: ../ui.py:1479
+msgid "East Asia"
+msgstr "东亚"
+
+#: ../ui.py:1387
+msgid "Eumetsat"
+msgstr "欧洲气象卫星组织"
+
+#: ../ui.py:1359 ../ui.py:1468 ../ui.py:1472
+msgid "Europe"
+msgstr "欧洲"
+
+#: ../ui.py:659 ../ui.py:1130 ../ui.py:1367 ../ui.py:1628
+msgid "Exit - End"
+msgstr ""
+
+#: ../ui.py:649 ../ui.py:864 ../ui.py:917 ../ui.py:1121
+msgid "Favorite 1"
+msgstr "收藏1"
+
+#: ../ui.py:650 ../ui.py:865 ../ui.py:918 ../ui.py:1122
+msgid "Favorite 2"
+msgstr "收藏2"
+
+#: ../ui.py:1936
+msgid "Font size in slideshow"
+msgstr "幻灯片中的字体大小"
+
+#: ../plugin.py:21 ../plugin.py:27 ../ui.py:635 ../ui.py:654
+msgid "Foreca Weather Forecast"
+msgstr "Foreca天气预报"
+
+#: ../ui.py:1124
+msgid "Forecast"
+msgstr "预测"
+
+#: ../ui.py:1935
+msgid "Frame size in full view"
+msgstr "全视图中的帧大小"
+
+#: ../ui.py:1447
+msgid "France"
+msgstr "法国"
+
+#: ../ui.py:1360 ../ui.py:1439 ../ui.py:1448
+msgid "Germany"
+msgstr "德国"
+
+#: ../ui.py:1450
+msgid "Great Britain"
+msgstr "英国"
+
+#: ../ui.py:1449
+msgid "Greece"
+msgstr "希腊"
+
+#: ../ui.py:1136
+msgid "Green - Assign to Favorite 1"
+msgstr ""
+
+#: ../ui.py:1373
+msgid "Green - Europe"
+msgstr ""
+
+#: ../ui.py:671
+msgid "Green - Favorite 1"
+msgstr ""
+
+#: ../ui.py:1423
+msgid "Hamburg"
+msgstr "汉堡"
+
+#: ../ui.py:1424
+msgid "Hesse"
+msgstr "赫斯"
+
+#: ../ui.py:651 ../ui.py:866 ../ui.py:919 ../ui.py:1123
+msgid "Home"
+msgstr "主页"
+
+#: ../ui.py:1451
+msgid "Hungary"
+msgstr "匈牙利"
+
+#: ../ui.py:183
+msgid "Imperial (C, mph)"
+msgstr "英制（C，mph）"
+
+#: ../ui.py:661
+msgid "Info - Legend"
+msgstr ""
+
+#: ../ui.py:1452
+msgid "Ireland"
+msgstr "爱尔兰"
+
+#: ../ui.py:1453
+msgid "Italy"
+msgstr "意大利"
+
+#: ../ui.py:1454
+msgid "Latvia"
+msgstr "拉脱维亚"
+
+#: ../ui.py:663
+msgid "Left - Previous day"
+msgstr ""
+
+#: ../ui.py:1131 ../ui.py:1368 ../ui.py:1629
+msgid "Left - Previous page"
+msgstr ""
+
+#: ../ui.py:667
+msgid "Left arrow - Previous day"
+msgstr ""
+
+#: ../ui.py:652
+msgid "Legend"
+msgstr ""
+
+#: ../ui.py:1426
+msgid "Lower Saxony"
+msgstr "下萨克森"
+
+#: ../ui.py:1455
+msgid "Luxembourg"
+msgstr "卢森堡"
+
+#: ../ui.py:653
+msgid "Maps"
+msgstr "地图"
+
+#: ../ui.py:1425
+msgid "Mecklenburg-Vorpommern"
+msgstr ""
+
+#: ../ui.py:660
+msgid "Menu - Weather maps"
+msgstr ""
+
+#: ../ui.py:183
+msgid "Metric (C, km/h)"
+msgstr "公制（C，km/h）"
+
+#: ../ui.py:183
+msgid "Metric (C, m/s)"
+msgstr "公制（C，m/s）"
+
+#: ../ui.py:1476
+msgid "Middle America"
+msgstr "中美"
+
+#: ../ui.py:1481
+msgid "Middle Asia"
+msgstr "中亚"
+
+#: ../ui.py:1478
+msgid "Middle East"
+msgstr "中东"
+
+#: ../ui.py:1456
+msgid "Netherlands"
+msgstr "纽西兰"
+
+#: ../ui.py:1473
+msgid "North Africa"
+msgstr "南非"
+
+#: ../ui.py:1475
+msgid "North America"
+msgstr "南美"
+
+#: ../ui.py:1427
+msgid "North Rhine-Westphalia"
+msgstr ""
+
+#: ../ui.py:662
+msgid "OK - City"
+msgstr ""
+
+#: ../ui.py:1135
+msgid "OK - Select"
+msgstr ""
+
+#: ../ui.py:1376 ../ui.py:1634
+msgid "OK - Show"
+msgstr ""
+
+#: ../ui.py:638 ../ui.py:703
+msgid "Please wait ..."
+msgstr "请等待 ..."
+
+#: ../ui.py:1771
+msgid "Please wait, photo is being loaded ..."
+msgstr "请等待，图片加载中 ..."
+
+#: ../ui.py:1457
+msgid "Poland"
+msgstr "波兰"
+
+#: ../ui.py:1458
+msgid "Portugal"
+msgstr "葡萄牙"
+
+#: ../ui.py:1372
+msgid "Red - Continents"
+msgstr ""
+
+#: ../ui.py:669
+msgid "Red - Weekoverview"
+msgstr ""
+
+#: ../ui.py:1428
+msgid "Rhineland-Palatine"
+msgstr ""
+
+#: ../ui.py:664
+msgid "Right - Next day"
+msgstr ""
+
+#: ../ui.py:1132 ../ui.py:1369 ../ui.py:1630
+msgid "Right - Next page"
+msgstr ""
+
+#: ../ui.py:668
+msgid "Right arrow - Next day"
+msgstr ""
+
+#: ../ui.py:1459
+msgid "Russia"
+msgstr "俄罗斯"
+
+#: ../ui.py:1429
+msgid "Saarland"
+msgstr "萨尔兰"
+
+#: ../ui.py:1353 ../ui.py:1362
+msgid "Satellite photos"
+msgstr "卫星照片"
+
+#: ../ui.py:1907
+msgid "Save"
+msgstr "保存"
+
+#: ../ui.py:1430
+msgid "Saxony"
+msgstr "萨克森"
+
+#: ../ui.py:1431
+msgid "Saxony-Anhalt"
+msgstr ""
+
+#: ../ui.py:1937
+msgid "Scaling Mode"
+msgstr "缩放模式"
+
+#: ../ui.py:1432
+msgid "Schleswig-Holstein"
+msgstr ""
+
+#: ../ui.py:1115 ../ui.py:1125
+msgid "Select a city"
+msgstr "选择一个城市"
+
+#: ../ui.py:1933
+msgid "Select time format"
+msgstr "选择时间格式"
+
+#: ../ui.py:1932
+msgid "Select units"
+msgstr "选择单位"
+
+#: ../ui.py:1361 ../ui.py:1622
+msgid "Settings"
+msgstr "设置"
+
+#: ../ui.py:1939
+msgid "Show Infoline"
+msgstr "显示信息线"
+
+#: ../ui.py:1383
+msgid "Showerradar Video"
+msgstr ""
+
+#: ../ui.py:1938
+msgid "Slide Time (seconds)"
+msgstr "滑动时间（秒）"
+
+#: ../ui.py:1942
+msgid "Slide picture in loop"
+msgstr "循环播放幻灯片"
+
+#: ../ui.py:1905 ../ui.py:1908
+msgid "SlideShow Settings"
+msgstr "幻灯片放映设置"
+
+#: ../ui.py:1460
+msgid "Slovakia"
+msgstr "斯洛伐克"
+
+#: ../ui.py:1474
+msgid "South Africa"
+msgstr "南非"
+
+#: ../ui.py:1477
+msgid "South America"
+msgstr "南美洲"
+
+#: ../ui.py:1480
+msgid "Southeast Asia"
+msgstr "东南亚"
+
+#: ../ui.py:1461
+msgid "Spain"
+msgstr "西班牙"
+
+#: ../ui.py:1462
+msgid "Switzerland"
+msgstr "瑞士"
+
+#: ../ui.py:454
+msgid "Temp"
+msgstr "温度"
+
+#: ../ui.py:1384
+msgid "Temperature Video"
+msgstr "温度视频"
+
+#: ../ui.py:1940
+msgid "Textcolor"
+msgstr ""
+
+#: ../ui.py:1231
+msgid ""
+"This city is stored as favorite 1!\n"
+"\n"
+"                             "
+msgstr ""
+
+#: ../ui.py:1242
+msgid ""
+"This city is stored as favorite 2!\n"
+"\n"
+"                             "
+msgstr ""
+
+#: ../ui.py:1220
+msgid ""
+"This city is stored as home!\n"
+"\n"
+"                                  "
+msgstr ""
+
+#: ../ui.py:1433
+msgid "Thuringia"
+msgstr ""
+
+#: ../ui.py:183
+msgid "US (F, mph)"
+msgstr ""
+
+#: ../ui.py:1133 ../ui.py:1370 ../ui.py:1631
+msgid "Up - Previous"
+msgstr ""
+
+#: ../ui.py:665
+msgid "Up - Previous page"
+msgstr ""
+
+#: ../ui.py:654
+msgid "Version "
+msgstr "版本 "
+
+#: ../ui.py:1142
+msgid "Volume+ - 100 back"
+msgstr ""
+
+#: ../ui.py:1141
+msgid "Volume- - 100 forward"
+msgstr ""
+
+#: ../plugin.py:22 ../plugin.py:28
+msgid "Weather forecast for the upcoming 10 days"
+msgstr "未来10天天气预报"
+
+#: ../ui.py:1382
+msgid "Weather map Video"
+msgstr "天气图视频"
+
+#: ../ui.py:642
+msgid "Week"
+msgstr "一周天气"
+
+#: ../ui.py:469
+msgid "Wind"
+msgstr "风速"
+
+#: ../ui.py:1137
+msgid "Yellow - Assign to Favorite 2"
+msgstr ""
+
+#: ../ui.py:672
+msgid "Yellow - Favorite 2"
+msgstr ""
+
+#: ../ui.py:1374
+msgid "Yellow - Germany"
+msgstr ""
+
+#: ../ui.py:174
+msgid "better"
+msgstr "更好"
+
+#: ../ui.py:175 ../ui.py:176
+msgid "black"
+msgstr "黑"
+
+#: ../ui.py:175 ../ui.py:176
+msgid "blue"
+msgstr "蓝"
+
+#: ../ui.py:175 ../ui.py:176
+msgid "green"
+msgstr "绿"
+
+#: ../ui.py:1551
+msgid "h"
+msgstr ""
+
+#: ../ui.py:175 ../ui.py:176
+msgid "red"
+msgstr "红"
+
+#: ../ui.py:174
+msgid "simple"
+msgstr "简单"
+
+#: ../ui.py:175 ../ui.py:176
+msgid "yellow"
+msgstr "黄"
+
+#: ../ui.py:413
+msgid "°C"
+msgstr ""
+
+#: ../ui.py:410
+msgid "°F"
+msgstr ""
+
+msgid "Cloudy"
+msgstr "多云"
diff --git a/plugin/startservice.cfg b/plugin/startservice.cfg
new file mode 100644
index 0000000..cce101d
--- /dev/null
+++ b/plugin/startservice.cfg
@@ -0,0 +1 @@
+﻿China/Hangzhou
diff --git a/plugin/ui.py b/plugin/ui.py
index 512a18d..7ddc5b0 100644
--- a/plugin/ui.py
+++ b/plugin/ui.py
@@ -11,11 +11,11 @@
 #
 #        We wish all users wonderful weather!
 #
-VERSION = "3.2.0"
+VERSION = "3.2.3-r3"
 #
 #                    04.10.2017
 #
-#     Source of information: http://www.foreca.com
+#     Source of information: http://www.foreca.net
 #
 #             Design and idea by
 #                  @Bauernbub
@@ -99,6 +99,7 @@ VERSION = "3.2.0"
 #				self.valText4 = 365,87,600,28
 #	similar in user skin - there text4Pos="x,y,w,h" must be added
 # 3.2.0	fixed satellite maps, removed infrared - page not exist more, sanity check if nothing is downloaded
+# 3.2.3-r3 change URL to .net and .ru
 
 # Unresolved: Crash when scrolling in help screen of city panel
 #
@@ -139,7 +140,7 @@ from Components.ConfigList import ConfigList, ConfigListScreen
 import os
 
 # Enigma
-from enigma import eListboxPythonMultiContent, ePicLoad, eServiceReference, eTimer, getDesktop, gFont, RT_HALIGN_RIGHT, RT_HALIGN_LEFT, BT_SCALE , BT_KEEP_ASPECT_RATIO, RT_VALIGN_CENTER
+from enigma import eListboxPythonMultiContent, ePicLoad, eServiceReference, eTimer, getDesktop, gFont, RT_HALIGN_RIGHT, RT_HALIGN_LEFT , RT_VALIGN_CENTER
 
 # Plugin definition
 from Plugins.Plugin import PluginDescriptor
@@ -185,7 +186,7 @@ config.plugins.foreca.time = ConfigSelection(default="24h", choices = [("12h", _
 config.plugins.foreca.debug = ConfigEnableDisable(default=False)
 
 
-MAIN_PAGE = "http://www.foreca.com"
+MAIN_PAGE = "http://www.foreca.net"
 USR_PATH = resolveFilename(SCOPE_CONFIG)+"Foreca"
 THUMB_PATH = resolveFilename(SCOPE_PLUGINS) + "Extensions/Foreca/thumb/"
 deviceName = HardwareInfo().get_device_name()
@@ -222,6 +223,8 @@ FILTERout = []
 FILTERidx = 0
 
 LANGUAGE = language.getActiveLanguage()[:2]
+if LANGUAGE == "zh":
+	LANGUAGE = "en"
 try:
 	locale.setlocale(locale.LC_COLLATE, language.getLanguage())
 except:
@@ -258,7 +261,7 @@ class MainMenuList(MenuList):
 		self.font1 = gFont("Regular",24)
 		self.font2 = gFont("Regular",18)
 		self.font3 = gFont("Regular",22)
-		self.itemHeight = 90
+		self.itemHeight = 120
 		self.valTime = 10,34,60,24
 		self.valPict = 70,10,70,70
 		self.valPictScale = 0
@@ -444,10 +447,7 @@ class MainMenuList(MenuList):
 		pngpic = LoadPixmap(self.thumb)
 		if pngpic is not None:
 			x, y, w, h = self.valPict
-			flags = 0
-			if self.valPictScale:
-				flags = BT_SCALE | BT_KEEP_ASPECT_RATIO
-			self.res.append(MultiContentEntryPixmapAlphaTest(pos=(x, y), size=(w, h), png=pngpic, flags = flags ))
+			self.res.append(MultiContentEntryPixmapAlphaTest(pos=(x, y), size=(w, h), png=pngpic))
 
 		# Temp
 		x, y, w, h = self.valTemp
@@ -459,10 +459,7 @@ class MainMenuList(MenuList):
 		pngpic = LoadPixmap(self.wind + ".png")
 		if pngpic is not None:
 			x, y, w, h = self.valWindPict
-			flags = 0
-			if self.valWindPictScale:
-				flags = BT_SCALE | BT_KEEP_ASPECT_RATIO
-			self.res.append(MultiContentEntryPixmapAlphaTest(pos=(x, y), size=(w, h), png=pngpic, flags = flags))
+			self.res.append(MultiContentEntryPixmapAlphaTest(pos=(x, y), size=(w, h), png=pngpic))
 
 		# Wind
 		x, y, w, h = self.valWind
@@ -472,7 +469,7 @@ class MainMenuList(MenuList):
 		
 		# Text
 		x, y, w, h = self.valText1
-		self.res.append(MultiContentEntryText(pos=(x, y), size=(w, h), font=3, text=self.x[5], color=weiss, color_sel=weiss))
+		self.res.append(MultiContentEntryText(pos=(x, y), size=(w, h), font=3, text=_(self.x[5]), color=weiss, color_sel=weiss))
 		x, y, w, h = self.valText2
 		textsechs=self.x[6]
 		textsechs=textsechs.replace("&deg;", "") + tempUnit
@@ -543,7 +540,7 @@ class ForecaPreview(Screen, HelpableScreen):
 	def __init__(self, session):
 		global MAIN_PAGE, menu
 		self.session = session
-		MAIN_PAGE = "http://www.foreca.com"
+		MAIN_PAGE = "http://www.foreca.net"
 
 		# actual, local Time as Tuple
 		lt = localtime()
@@ -584,13 +581,13 @@ class ForecaPreview(Screen, HelpableScreen):
 			start = "London"
 		print pluginPrintname, "home location:", self.ort
 		
-		MAIN_PAGE = "http://www.foreca.com" + "/" + urllib.pathname2url(self.ort) + "?lang=" + LANGUAGE + "&details=" + heute + "&units=" + config.plugins.foreca.units.value +"&tf=" + config.plugins.foreca.time.value
+		MAIN_PAGE = "http://www.foreca.net" + "/" + urllib.pathname2url(self.ort) + "?lang=" + LANGUAGE + "&details=" + heute + "&units=" + config.plugins.foreca.units.value +"&tf=" + config.plugins.foreca.time.value
 		print pluginPrintname, "initial link:" , MAIN_PAGE
 		
 		if HD:
 			self.skin = """
-				<screen name="ForecaPreview" position="center,center" size="980,505" title="Foreca Weather Forecast" backgroundColor="#40000000" >
-					<widget name="MainList" position="0,90" size="980,365" zPosition="3" backgroundColor="#40000000" enableWrapAround="1" scrollbarMode="showOnDemand" />
+				<screen name="ForecaPreview" position="center,center" size="980,505" title="Foreca Weather Forecast" backgroundColor="#00000000" >
+					<widget name="MainList" position="0,90" size="980,365" zPosition="3" backgroundColor="#00000000" enableWrapAround="1" scrollbarMode="showOnDemand" />
 					<widget source="Titel" render="Label" position="4,10" zPosition="3" size="978,60" font="Regular;24" valign="center" halign="left" transparent="1" foregroundColor="#ffffff"/>
 					<widget source="Titel2" render="Label" position="35,15" zPosition="2" size="900,60" font="Regular;26" valign="center" halign="center" transparent="1" foregroundColor="#f47d19"/>
 					<eLabel position="5,70" zPosition="2" size="970,2" foregroundColor="#c3c3c9" backgroundColor="#FFFFFF" />
@@ -613,8 +610,8 @@ class ForecaPreview(Screen, HelpableScreen):
 				</screen>"""
 		else:
 			self.skin = """
-				<screen name="ForecaPreview" position="center,65" size="720,480" title="Foreca Weather Forecast" backgroundColor="#40000000" >
-					<widget name="MainList" position="0,65" size="720,363" zPosition="3" backgroundColor="#40000000" enableWrapAround="1" scrollbarMode="showOnDemand" />
+				<screen name="ForecaPreview" position="center,65" size="720,480" title="Foreca Weather Forecast" backgroundColor="#00000000" >
+					<widget name="MainList" position="0,65" size="720,363" zPosition="3" backgroundColor="#00000000" enableWrapAround="1" scrollbarMode="showOnDemand" />
 					<widget source="Titel" render="Label" position="20,3" zPosition="3" size="680,50" font="Regular;20" valign="center" halign="left" transparent="1" foregroundColor="#ffffff"/>
 					<widget source="Titel2" render="Label" position="40,5" zPosition="2" size="640,50" font="Regular;22" valign="center" halign="center" transparent="1" foregroundColor="#f47d19"/>
 					<eLabel position="5,55" zPosition="2" size="710,2" foregroundColor="#c3c3c9" backgroundColor="#FFFFFF" />
@@ -834,7 +831,7 @@ class ForecaPreview(Screen, HelpableScreen):
 		jahr, monat, tag = lt[0:3]
 		morgen ="%04i%02i%02i" % (jahr,monat,tag)
 
-		MAIN_PAGE = "http://www.foreca.com" + "/" + urllib.pathname2url(self.ort) + "?lang=" + LANGUAGE + "&details=" + morgen + "&units=" + config.plugins.foreca.units.value + "&tf=" + config.plugins.foreca.time.value
+		MAIN_PAGE = "http://www.foreca.net" + "/" + urllib.pathname2url(self.ort) + "?lang=" + LANGUAGE + "&details=" + morgen + "&units=" + config.plugins.foreca.units.value + "&tf=" + config.plugins.foreca.time.value
 		print pluginPrintname, "day link:", MAIN_PAGE
 
 		# Show in GUI
@@ -897,7 +894,7 @@ class ForecaPreview(Screen, HelpableScreen):
 	def red(self):
 		if not self.working:
 			#/meteogram.php?loc_id=211001799&amp;mglang=de&amp;units=metrickmh&amp;tf=24h
-			self.url= "http://www.foreca.com" + "/meteogram.php?loc_id=" + self.loc_id + "&mglang=" + LANGUAGE + "&units=" + config.plugins.foreca.units.value + "&tf=" + config.plugins.foreca.time.value + "/meteogram.png"
+			self.url= "http://www.foreca.ru" + "/meteogram.php?loc_id=" + self.loc_id + "&mglang=" + LANGUAGE + "&units=" + config.plugins.foreca.units.value + "&tf=" + config.plugins.foreca.time.value + "/meteogram.png"
 			self.loadPicture(self.url)
 
 	def shift_red(self):
@@ -1298,7 +1295,7 @@ class SatPanelList(MenuList):
 			self.backgroundColorSelected = parseColor(value).argb()
 		def textPos(value):
 			self.textPos = map(int, value.split(","))
-			l = len(self.textPos)
+			l = len(self.self.textPos)
 			if l != 4:
 				warningWrongSkinParameter(attrib, 4, l)
 		for (attrib, value) in list(self.skinAttributes):
@@ -1485,10 +1482,7 @@ class SatPanel(Screen, HelpableScreen):
 #------------------------------------------------------------------------------------------
 
 	def SatEntryItem(self,entry):
-		flags = 0
 		pict_scale = self["Mlist"].pictScale
-		if pict_scale:
-			flags = BT_SCALE # need stretch to height, due it is missing BT_KEEP_ASPECT_RATIO
 
 		ItemSkin = self["Mlist"].itemHeight
 
@@ -1503,7 +1497,7 @@ class SatPanel(Screen, HelpableScreen):
 		thumb_width = 200
 		if pict_scale:
 			thumb_width = thumb.size().width()
-		res.append(MultiContentEntryPixmapAlphaTest(pos=(2, 2), size=(thumb_width, ItemSkin-4), png=thumb, flags=flags))  # png vorn
+		res.append(MultiContentEntryPixmapAlphaTest(pos=(2, 2), size=(thumb_width, ItemSkin-4), png=thumb))  # png vorn
 		x,y,w,h = self["Mlist"].textPos
 		res.append(MultiContentEntryText(pos=(x, y), size=(w, h), font=0, text=entry[0], color=weiss, color_sel=mblau, backcolor_sel=grau, flags=RT_VALIGN_CENTER))
 		return res
@@ -1523,13 +1517,15 @@ class SatPanel(Screen, HelpableScreen):
 			devicepath = "/tmp/meteogram.png"
 			urllib.urlretrieve("http://www.sat24.com/images.php?country=eu&type=zoom&format=640x480001001&rnd=118538", devicepath)
 			self.session.open(PicView, devicepath, 0, False)
+
 		else:
 			# http://www.foreca.de/Austria/Linz?map=sat
 			devicepath = "/tmp/sat.html"
-			url = "http://www.foreca.com" + "/" + urllib.pathname2url(self.ort) + "?map=" + menu
+			url = "http://www.foreca.ru" + "/" + urllib.pathname2url(self.ort) + "?map=" + menu
 			# Load site for category and search Picture link
 			resp = urllib2.urlopen(url)
 			html = resp.read()
+			#resp.close()
 
 			fulltext = re.compile(r'//cache-(.+?)\'', re.DOTALL)
 			PressureLink = fulltext.findall(html)
diff --git a/setup.py b/setup.py
index 24470d4..aa710a8 100644
--- a/setup.py
+++ b/setup.py
@@ -3,11 +3,11 @@ import setup_translate
 
 pkg = 'Extensions.Foreca'
 setup (name = 'enigma2-plugin-extensions-foreca',
-       version = '3.2.0',
+       version = '3.2.3-r3',
        description = 'Weather forecast for the upcoming 10 days',
        packages = [pkg],
        package_dir = {pkg: 'plugin'},
        package_data = {pkg: ['*.png', '*.xml', '*/*.png', 'locale/*/LC_MESSAGES/*.mo']},
-       data_files = [('/etc/enigma2/Foreca', ['plugin/City.cfg', 'plugin/Filter.cfg'])],
+       data_files = [('/etc/enigma2/Foreca', ['plugin/City.cfg', 'plugin/fav1.cfg', 'plugin/fav2.cfg', 'plugin/startservice.cfg', 'plugin/Filter.cfg'])],
        cmdclass = setup_translate.cmdclass, # for translation
       )
-- 
2.17.1

